/**
 * Polaris Theme Compatibility CSS
 * Provides fallback colors for visual search components
 * Automatically adapts to light and dark themes
 */

:root {
  /* Light theme colors (default) */
  --visual-search-text-primary: var(--p-color-text, #202223);
  --visual-search-text-secondary: var(--p-color-text-secondary, #6d7175);
  --visual-search-text-subdued: var(--p-color-text-subdued, #8c9196);
  --visual-search-bg-surface: var(--p-color-bg-surface, #ffffff);
  --visual-search-bg-surface-hover: var(--p-color-bg-surface-hover, #f6f6f7);
  --visual-search-bg-surface-secondary: var(
    --p-color-bg-surface-secondary,
    #f6f6f7
  );
  --visual-search-border: var(--p-color-border, #d1d5db);
  --visual-search-brand-primary: var(--p-color-bg-fill-brand, #008060);
  --visual-search-brand-active: var(--p-color-bg-fill-brand-active, #004c3f);
  --visual-search-critical: var(--p-color-bg-fill-critical, #dc2626);
  --visual-search-success: var(--p-color-bg-fill-success, #059669);
  --visual-search-warning: var(--p-color-bg-fill-warning, #d97706);
}

/* Dark theme overrides */
@media (prefers-color-scheme: dark) {
  :root {
    --visual-search-text-primary: var(--p-color-text, #e3e3e3);
    --visual-search-text-secondary: var(--p-color-text-secondary, #b5b5b5);
    --visual-search-text-subdued: var(--p-color-text-subdued, #8c9196);
    --visual-search-bg-surface: var(--p-color-bg-surface, #1a1a1a);
    --visual-search-bg-surface-hover: var(--p-color-bg-surface-hover, #262626);
    --visual-search-bg-surface-secondary: var(
      --p-color-bg-surface-secondary,
      #262626
    );
    --visual-search-border: var(--p-color-border, #3f3f46);
    --visual-search-brand-primary: var(--p-color-bg-fill-brand, #00a47c);
    --visual-search-brand-active: var(--p-color-bg-fill-brand-active, #00d9a7);
  }
}

/* Visual search component theme compatibility */
.visual-search-icon {
  color: var(--visual-search-text-secondary) !important;
  transition: all 0.2s ease;
}

.visual-search-icon:hover {
  color: var(--visual-search-text-primary) !important;
  background-color: var(--visual-search-bg-surface-hover) !important;
}

.visual-search-drawer {
  background: var(--visual-search-bg-surface) !important;
  border: 1px solid var(--visual-search-border) !important;
  color: var(--visual-search-text-primary) !important;
}

.visual-search-drawer h1,
.visual-search-drawer h2,
.visual-search-drawer h3 {
  color: var(--visual-search-text-primary) !important;
}

.visual-search-drawer p {
  color: var(--visual-search-text-secondary) !important;
}

.visual-search-button-primary {
  background: var(--visual-search-brand-primary) !important;
  border-color: var(--visual-search-brand-primary) !important;
}

.visual-search-button-primary:hover {
  background: var(--visual-search-brand-active) !important;
  border-color: var(--visual-search-brand-active) !important;
}

.visual-search-error {
  background: var(--visual-search-critical) !important;
  color: white !important;
}

.visual-search-success {
  background: var(--visual-search-success) !important;
  color: white !important;
}

/* Ensure proper contrast in both themes */
.visual-search-text-primary {
  color: var(--visual-search-text-primary) !important;
}

.visual-search-text-secondary {
  color: var(--visual-search-text-secondary) !important;
}

.visual-search-text-subdued {
  color: var(--visual-search-text-subdued) !important;
}

/* Shopify admin theme detection */
[data-theme='dark'] {
  --visual-search-text-primary: #e3e3e3;
  --visual-search-text-secondary: #b5b5b5;
  --visual-search-text-subdued: #8c9196;
  --visual-search-bg-surface: #1a1a1a;
  --visual-search-bg-surface-hover: #262626;
  --visual-search-bg-surface-secondary: #262626;
  --visual-search-border: #3f3f46;
  --visual-search-brand-primary: #00a47c;
  --visual-search-brand-active: #00d9a7;
}

[data-theme='light'] {
  --visual-search-text-primary: #202223;
  --visual-search-text-secondary: #6d7175;
  --visual-search-text-subdued: #8c9196;
  --visual-search-bg-surface: #ffffff;
  --visual-search-bg-surface-hover: #f6f6f7;
  --visual-search-bg-surface-secondary: #f6f6f7;
  --visual-search-border: #d1d5db;
  --visual-search-brand-primary: #008060;
  --visual-search-brand-active: #004c3f;
}
