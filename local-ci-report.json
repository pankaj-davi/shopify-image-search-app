{
  "timestamp": "2025-07-15T01:18:22.116Z",
  "totalTime": 31939,
  "results": {
    "lint": {
      "status": "passed",
      "duration": 922,
      "output": "\n> lint\n> eslint --cache --cache-location ./node_modules/.cache/eslint .\n\n"
    },
    "format": {
      "status": "failed",
      "duration": 1894,
      "error": "Command failed: npx prettier --check .\n[\u001b[33mwarn\u001b[39m] local-ci-report.json\n[\u001b[33mwarn\u001b[39m] Code style issues found in the above file. Run Prettier with --write to fix.\n",
      "output": "Checking formatting...\n",
      "stderr": "[\u001b[33mwarn\u001b[39m] local-ci-report.json\n[\u001b[33mwarn\u001b[39m] Code style issues found in the above file. Run Prettier with --write to fix.\n"
    },
    "typecheck": {
      "status": "passed",
      "duration": 2635,
      "output": ""
    },
    "security": {
      "status": "passed_with_dev_warnings",
      "duration": 1158,
      "output": "# npm audit report\n\nesbuild  <=0.24.2\nSeverity: moderate\nesbuild enables any website to send any requests to the development server and read the response - https://github.com/advisories/GHSA-67mh-4wv8-2f99\nNo fix available\nnode_modules/esbuild\n  @remix-run/dev  *\n  Depends on vulnerable versions of @vanilla-extract/integration\n  Depends on vulnerable versions of esbuild\n  Depends on vulnerable versions of remark-mdx-frontmatter\n  node_modules/@remix-run/dev\n    @remix-run/fs-routes  *\n    Depends on vulnerable versions of @remix-run/dev\n    Depends on vulnerable versions of @remix-run/route-config\n    node_modules/@remix-run/fs-routes\n    @remix-run/route-config  *\n    Depends on vulnerable versions of @remix-run/dev\n    node_modules/@remix-run/route-config\n  @vanilla-extract/integration  *\n  Depends on vulnerable versions of esbuild\n  node_modules/@vanilla-extract/integration\n\nestree-util-value-to-estree  <3.3.3\nSeverity: moderate\nestree-util-value-to-estree allows prototype pollution in generated ESTree - https://github.com/advisories/GHSA-f7f6-9jq7-3rqj\nfix available via `npm audit fix`\nnode_modules/estree-util-value-to-estree\n  remark-mdx-frontmatter  <=2.1.1\n  Depends on vulnerable versions of estree-util-value-to-estree\n  node_modules/remark-mdx-frontmatter\n\n7 moderate severity vulnerabilities\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nSome issues need review, and may require choosing\na different dependency.\n",
      "devOnly": true
    },
    "tests": {
      "status": "passed_with_env_warnings",
      "duration": 16629,
      "output": "\n> test\n> node --test\n\nTAP version 13\n# 🗄️ Database Operation Test\n# ℹ️  Testing database environment setup...\n# ℹ️  Database provider: firebase\n# ✅ .env file found\n# ⚠️  Missing Firebase vars: FIREBASE_PROJECT_ID, FIREBASE_CLIENT_EMAIL, FIREBASE_PRIVATE_KEY\n# ✅ Script found: backup-database.js\n# ✅ Script found: restore-database.js\n# ✅ Script found: health-check.js\n# 📊 Environment Test Complete\n# Subtest: D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\db-test.js\nok 1 - D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\db-test.js\n  ---\n  duration_ms: 42.8713\n  ...\n# 🚀 Local CI Testing - Preventing Remote Failures\n# =================================================\n# 📅 Started: 15/7/2025, 6:47:57 am\n# 📁 Directory: D:\\\\AI\\\\UUD\\\\new-p\n# 📋 Checking Prerequisites:\n# ✅ package.json exists\n# ✅ package-lock.json exists\n# ✅ ESLint config exists\n# ✅ TypeScript config exists\n# 🔄 🎨 Code Formatting Check...\n# 💻 Command: npx prettier --check .\n# ────────────────────────────────────────────────────────────\n# ❌ 🎨 Code Formatting Check failed (2055ms)\n# 📄 Output: Checking formatting...\n# 🚨 Error: [\u001b[33mwarn\u001b[39m] local-ci-report.json\n# [\u001b[33mwarn\u001b[39m] Code style issues found in the above file. Run Prettier with --write to fix.\n# 🔄 🔍 ESLint Code Quality Check...\n# 💻 Command: npm run lint\n# ────────────────────────────────────────────────────────────\n# ✅ 🔍 ESLint Code Quality Check passed (921ms)\n# 📄 Output: > lint\n# > eslint --cache --cache-location ./node_modules/.cache/eslint .\n# 🔄 🔧 TypeScript Compilation Check...\n# 💻 Command: npx tsc --noEmit\n# ────────────────────────────────────────────────────────────\n# ✅ 🔧 TypeScript Compilation Check passed (2887ms)\n# 🔄 🔒 Security Vulnerability Check...\n# 💻 Command: npm audit --audit-level moderate\n# ────────────────────────────────────────────────────────────\n# ✅ 🔒 Security Vulnerability Check passed (1127ms)\n# 📄 Output: Development dependencies have known issues (safe for production)\n# 💡 Note: esbuild dev dependency vulnerability - does not affect production builds\n# 🔄 🧪 Test Suite Execution...\n# 💻 Command: npm test\n# ────────────────────────────────────────────────────────────\n# ✅ 🧪 Test Suite Execution passed (279ms)\n# 📄 Output: > test\n# > node --test\n# 🔄 🏗️ Build System Validation...\n# 💻 Command: npm run build:check\n# ────────────────────────────────────────────────────────────\n# ✅ 🏗️ Build System Validation passed (8725ms)\n# ✅ Database health script exists\n# 🔄 🗄️ Database Health Check...\n# 💻 Command: npm run db:health\n# ────────────────────────────────────────────────────────────\n# ✅ 🗄️ Database Health Check passed (275ms)\n# 📄 Output: > db:health\n# > node scripts/health-check.js\n# 📊 LOCAL CI TEST RESULTS\n# ========================\n# ⏱️ Total time: 16286ms\n# 📈 Status: 6 passed, 1 failed, 0 skipped\n# ⚠️ 1 check(s) failed - fix before pushing\n# 📋 Detailed Results:\n# ──────────────────────\n# ✅ PASS lint         (921ms)\n# ❌ FAIL format       (2055ms)\n#      💡 Fix: Run 'npx prettier --write .' to fix formatting\n# ✅ PASS typecheck    (2887ms)\n# ✅ PASS security     (1127ms) (dev-only issues)\n#      ℹ️ Note: Development dependency vulnerabilities - safe for production\n# ✅ PASS tests        (279ms)\n# ✅ PASS build        (8725ms)\n# ✅ PASS database     (275ms)\n# 🎯 Next Steps:\n# ─────────────\n# 🔧 Fix these issues before pushing:\n#    • format: Run 'npx prettier --write .' to fix formatting\n# 🔄 After fixing, run this script again:\n#    npm run ci:test\n# 📖 Additional Commands:\n#    npm run ci:test        - Run this script again\n#    npm run ci:fix         - Auto-fix what can be fixed\n#    npm run check          - Quick health check\n# 💾 Detailed report saved to: local-ci-report.json\n# Subtest: D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\local-ci-test.js\nok 2 - D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\local-ci-test.js\n  ---\n  duration_ms: 16328.7188\n  ...\n# 🚀 Local CI Testing - Preventing Remote Failures\n# =================================================\n# 📅 Started: 15/7/2025, 6:47:57 am\n# 📋 Checking Prerequisites:\n# ✅ package.json exists\n# ✅ package-lock.json exists\n# ✅ ESLint config exists\n# ✅ TypeScript config exists\n# 🔍 Running CI Checks:\n# 🔄 🎨 Code Formatting Check...\n# 💻 Command: npx prettier --check .\n# ────────────────────────────────────────────────────────────\n# ❌ 🎨 Code Formatting Check failed (2022ms)\n# 📄 Output: Checking formatting...\n# 🚨 Error: [\u001b[33mwarn\u001b[39m] local-ci-report.json\n# [\u001b[33mwarn\u001b[39m] Code style issues found in the above file. Run Prettier with --write to fix.\n# 🔄 🔍 ESLint Code Quality Check...\n# 💻 Command: npm run lint\n# ────────────────────────────────────────────────────────────\n# ✅ 🔍 ESLint Code Quality Check passed (928ms)\n# 📄 Output: > lint\n# > eslint --cache --cache-location ./node_modules/.cache/eslint .\n# 🔄 🔧 TypeScript Compilation Check...\n# 💻 Command: npx tsc --noEmit\n# ────────────────────────────────────────────────────────────\n# ✅ 🔧 TypeScript Compilation Check passed (2863ms)\n# 🔄 🔒 Security Vulnerability Check...\n# 💻 Command: npm audit --audit-level moderate\n# ────────────────────────────────────────────────────────────\n# ❌ 🔒 Security Vulnerability Check failed (1138ms)\n# 📄 Output: \\# npm audit report\n# esbuild  <=0.24.2\n# Severity: moderate\n# esbuild enables any website to send any requests to the development server and read the response - https://github.com/advisories/GHSA-67mh-4wv8-2f99\n# No fix available\n# node_modules/esbuild\n#   @remix-run/dev  *\n#   Depends on vulnerable versions of \n# 🔄 🧪 Test Suite Execution...\n# 💻 Command: npm test\n# ────────────────────────────────────────────────────────────\n# ✅ 🧪 Test Suite Execution passed (282ms)\n# 📄 Output: > test\n# > node --test\n# 🔄 🏗️ Build System Validation...\n# 💻 Command: npm run build:check\n# ────────────────────────────────────────────────────────────\n# ✅ 🏗️ Build System Validation passed (8707ms)\n# 🔄 🗄️ Database Health Check...\n# 💻 Command: npm run db:health\n# ────────────────────────────────────────────────────────────\n# ✅ 🗄️ Database Health Check passed (275ms)\n# 📄 Output: > db:health\n# > node scripts/health-check.js\n# 📊 LOCAL CI TEST RESULTS\n# ========================\n# 📈 Summary: 5 passed, 2 failed, 0 skipped\n# ⚠️ 2 check(s) failed - fix before pushing\n# 🔧 Common fixes:\n#    npm run ci:fix     - Auto-fix formatting and lint issues\n#    npm run lint --fix - Fix ESLint issues\n#    npx prettier --write . - Fix formatting\n# 📋 Detailed Results:\n# ❌ FAIL format       (2022ms)\n# ✅ PASS lint         (928ms)\n# ✅ PASS typecheck    (2863ms)\n# ❌ FAIL security     (1138ms)\n# ✅ PASS tests        (282ms)\n# ✅ PASS build        (8707ms)\n# ✅ PASS database     (275ms)\n# 💾 Report saved to: local-ci-report.json\n# 📖 Available Commands:\n#    npm run ci:test    - Run this comprehensive test\n#    npm run ci:fix     - Auto-fix common issues\n#    npm run pre-push   - Quick validation before push\n#    npm run check      - Alternative quick check\n# ❌ Exiting with 2 error(s)\n# Subtest: D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\simple-ci-test.js\nnot ok 3 - D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\simple-ci-test.js\n  ---\n  duration_ms: 16273.3105\n  location: 'D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\simple-ci-test.js:1:1'\n  failureType: 'testCodeFailure'\n  exitCode: 1\n  signal: ~\n  error: 'test failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n# Subtest: API Integration Tests\n    # Subtest: should respond to health check\n    ok 1 - should respond to health check\n      ---\n      duration_ms: 0.9226\n      ...\n    # Subtest: should handle Shopify webhook\n    ok 2 - should handle Shopify webhook\n      ---\n      duration_ms: 0.1585\n      ...\n    1..2\nok 4 - API Integration Tests\n  ---\n  duration_ms: 2.3035\n  type: 'suite'\n  ...\n# Subtest: Database Tests\n    # Subtest: should connect to database\n    ok 1 - should connect to database\n      ---\n      duration_ms: 0.9414\n      ...\n    # Subtest: should perform CRUD operations\n    ok 2 - should perform CRUD operations\n      ---\n      duration_ms: 0.1513\n      ...\n    1..2\nok 5 - Database Tests\n  ---\n  duration_ms: 2.4131\n  type: 'suite'\n  ...\n1..5\n# tests 7\n# suites 2\n# pass 6\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 16358.6328\n",
      "envIssue": true
    },
    "build": {
      "status": "passed",
      "duration": 8402,
      "output": "\n> build:check\n> node scripts/simple-build-check.js\n\n\n🚀 Starting build with error catching...\n\nℹ️  Checking environment...\n✅ Environment check passed\nℹ️  Running TypeScript Check...\n✅ TypeScript Check completed\nℹ️  Running Linting...\n✅ Linting completed\nℹ️  Running Build...\n✅ Build completed\n\n==================================================\n📊 BUILD SUMMARY\n==================================================\n⏱️  Duration: 8.12s\n⚠️  Warnings: 0\n❌ Errors: 0\n\n🎉 Build completed successfully!\n===="
    },
    "database": {
      "status": "passed",
      "duration": 275,
      "output": "\n> db:health\n> node scripts/health-check.js\n\n"
    }
  },
  "summary": {
    "passed": 6,
    "failed": 1,
    "skipped": 0
  }
}
