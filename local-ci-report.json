{
  "timestamp": "2025-07-15T01:38:08.934Z",
  "totalTime": 31739,
  "results": {
    "lint": {
      "status": "passed",
      "duration": 945,
      "output": "\n> lint\n> eslint --cache --cache-location ./node_modules/.cache/eslint .\n\n"
    },
    "format": {
      "status": "failed",
      "duration": 1887,
      "error": "Command failed: npx prettier --check .\n[\u001b[33mwarn\u001b[39m] local-ci-report.json\n[\u001b[33mwarn\u001b[39m] scripts/ci-security-check.js\n[\u001b[33mwarn\u001b[39m] Code style issues found in 2 files. Run Prettier with --write to fix.\n",
      "output": "Checking formatting...\n",
      "stderr": "[\u001b[33mwarn\u001b[39m] local-ci-report.json\n[\u001b[33mwarn\u001b[39m] scripts/ci-security-check.js\n[\u001b[33mwarn\u001b[39m] Code style issues found in 2 files. Run Prettier with --write to fix.\n"
    },
    "typecheck": {
      "status": "passed",
      "duration": 2670,
      "output": ""
    },
    "security": {
      "status": "passed",
      "duration": 1138,
      "output": "# npm audit report\n\nesbuild  <=0.24.2\nSeverity: moderate\nesbuild enables any website to send any requests to the development server and read the response - https://github.com/advisories/GHSA-67mh-4wv8-2f99\nNo fix available\nnode_modules/esbuild\n  @remix-run/dev  *\n  Depends on vulnerable versions of @vanilla-extract/integration\n  Depends on vulnerable versions of esbuild\n  Depends on vulnerable versions of remark-mdx-frontmatter\n  node_modules/@remix-run/dev\n    @remix-run/fs-routes  *\n    Depend"
    },
    "tests": {
      "status": "passed_with_env_warnings",
      "duration": 16484,
      "output": "\n> test\n> node --test\n\nTAP version 13\n# ðŸ—„ï¸ Database Operation Test\n# â„¹ï¸  Testing database environment setup...\n# â„¹ï¸  Database provider: firebase\n# âœ… .env file found\n# âš ï¸  Missing Firebase vars: FIREBASE_PROJECT_ID, FIREBASE_CLIENT_EMAIL, FIREBASE_PRIVATE_KEY\n# âœ… Script found: backup-database.js\n# âœ… Script found: restore-database.js\n# âœ… Script found: health-check.js\n# ðŸ“Š Environment Test Complete\n# Subtest: D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\db-test.js\nok 1 - D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\db-test.js\n  ---\n  duration_ms: 43.256\n  ...\n# ðŸš€ Local CI Testing - Preventing Remote Failures\n# =================================================\n# ðŸ“… Started: 15/7/2025, 7:07:44 am\n# ðŸ“ Directory: D:\\\\AI\\\\UUD\\\\new-p\n# ðŸ“‹ Checking Prerequisites:\n# âœ… package.json exists\n# âœ… package-lock.json exists\n# âœ… ESLint config exists\n# âœ… TypeScript config exists\n# ðŸ”„ ðŸŽ¨ Code Formatting Check...\n# ðŸ’» Command: npx prettier --check .\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âŒ ðŸŽ¨ Code Formatting Check failed (1976ms)\n# ðŸ“„ Output: Checking formatting...\n# ðŸš¨ Error: [\u001b[33mwarn\u001b[39m] local-ci-report.json\n# [\u001b[33mwarn\u001b[39m] scripts/ci-security-check.js\n# [\u001b[33mwarn\u001b[39m] Code style issues found in 2 files. Run Prettier with --write to fix.\n# ðŸ”„ ðŸ” ESLint Code Quality Check...\n# ðŸ’» Command: npm run lint\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ” ESLint Code Quality Check passed (928ms)\n# ðŸ“„ Output: > lint\n# > eslint --cache --cache-location ./node_modules/.cache/eslint .\n# ðŸ”„ ðŸ”§ TypeScript Compilation Check...\n# ðŸ’» Command: npx tsc --noEmit\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ”§ TypeScript Compilation Check passed (2818ms)\n# ðŸ”„ ðŸ”’ Security Vulnerability Check...\n# ðŸ’» Command: npm audit --audit-level high\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ”’ Security Vulnerability Check passed (1090ms)\n# ðŸ“„ No high/critical security vulnerabilities found\n# ðŸ”„ ðŸ§ª Test Suite Execution...\n# ðŸ’» Command: npm test\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ§ª Test Suite Execution passed (274ms)\n# ðŸ“„ Output: > test\n# > node --test\n# ðŸ”„ ðŸ—ï¸ Build System Validation...\n# ðŸ’» Command: npm run build:check\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ—ï¸ Build System Validation passed (8733ms)\n# âœ… Database health script exists\n# ðŸ”„ ðŸ—„ï¸ Database Health Check...\n# ðŸ’» Command: npm run db:health\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ—„ï¸ Database Health Check passed (272ms)\n# ðŸ“„ Output: > db:health\n# > node scripts/health-check.js\n# ðŸ“Š LOCAL CI TEST RESULTS\n# ========================\n# â±ï¸ Total time: 16108ms\n# ðŸ“ˆ Status: 6 passed, 1 failed, 0 skipped\n# âš ï¸ 1 check(s) failed - fix before pushing\n# ðŸ“‹ Detailed Results:\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… PASS lint         (928ms)\n# âŒ FAIL format       (1976ms)\n#      ðŸ’¡ Fix: Run 'npx prettier --write .' to fix formatting\n# âœ… PASS typecheck    (2818ms)\n# âœ… PASS security     (1090ms)\n# âœ… PASS tests        (274ms)\n# âœ… PASS build        (8733ms)\n# âœ… PASS database     (272ms)\n# ðŸŽ¯ Next Steps:\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# ðŸ”§ Fix these issues before pushing:\n#    â€¢ format: Run 'npx prettier --write .' to fix formatting\n# ðŸ”„ After fixing, run this script again:\n#    npm run ci:test\n# ðŸ“– Additional Commands:\n#    npm run ci:test        - Run this script again\n#    npm run ci:fix         - Auto-fix what can be fixed\n#    npm run check          - Quick health check\n# ðŸ’¾ Detailed report saved to: local-ci-report.json\n# Subtest: D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\local-ci-test.js\nok 2 - D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\local-ci-test.js\n  ---\n  duration_ms: 16147.71\n  ...\n# ðŸš€ Local CI Testing - Preventing Remote Failures\n# =================================================\n# ðŸ“… Started: 15/7/2025, 7:07:44 am\n# ðŸ“‹ Checking Prerequisites:\n# âœ… package.json exists\n# âœ… package-lock.json exists\n# âœ… ESLint config exists\n# âœ… TypeScript config exists\n# ðŸ” Running CI Checks:\n# ðŸ”„ ðŸŽ¨ Code Formatting Check...\n# ðŸ’» Command: npx prettier --check .\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âŒ ðŸŽ¨ Code Formatting Check failed (2019ms)\n# ðŸ“„ Output: Checking formatting...\n# ðŸš¨ Error: [\u001b[33mwarn\u001b[39m] local-ci-report.json\n# [\u001b[33mwarn\u001b[39m] scripts/ci-security-check.js\n# [\u001b[33mwarn\u001b[39m] Code style issues found in 2 files. Run Prettier with --write to fix.\n# ðŸ”„ ðŸ” ESLint Code Quality Check...\n# ðŸ’» Command: npm run lint\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ” ESLint Code Quality Check passed (921ms)\n# ðŸ“„ Output: > lint\n# > eslint --cache --cache-location ./node_modules/.cache/eslint .\n# ðŸ”„ ðŸ”§ TypeScript Compilation Check...\n# ðŸ’» Command: npx tsc --noEmit\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ”§ TypeScript Compilation Check passed (2820ms)\n# ðŸ”„ ðŸ”’ Security Vulnerability Check (High/Critical)...\n# ðŸ’» Command: npm audit --audit-level high\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ”’ Security Vulnerability Check (High/Critical) passed (1124ms)\n# ðŸ”„ ðŸ§ª Test Suite Execution...\n# ðŸ’» Command: npm test\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ§ª Test Suite Execution passed (271ms)\n# ðŸ“„ Output: > test\n# > node --test\n# ðŸ”„ ðŸ—ï¸ Build System Validation...\n# ðŸ’» Command: npm run build:check\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ—ï¸ Build System Validation passed (8695ms)\n# ðŸ”„ ðŸ—„ï¸ Database Health Check...\n# ðŸ’» Command: npm run db:health\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# âœ… ðŸ—„ï¸ Database Health Check passed (270ms)\n# ðŸ“„ Output: > db:health\n# > node scripts/health-check.js\n# ðŸ“Š LOCAL CI TEST RESULTS\n# ========================\n# ðŸ“ˆ Summary: 6 passed, 1 failed, 0 skipped\n# âš ï¸ 1 check(s) failed - fix before pushing\n# ðŸ”§ Common fixes:\n#    npm run ci:fix     - Auto-fix formatting and lint issues\n#    npm run lint --fix - Fix ESLint issues\n#    npx prettier --write . - Fix formatting\n# ðŸ“‹ Detailed Results:\n# âŒ FAIL format       (2019ms)\n# âœ… PASS lint         (921ms)\n# âœ… PASS typecheck    (2820ms)\n# âœ… PASS security     (1124ms)\n# âœ… PASS tests        (271ms)\n# âœ… PASS build        (8695ms)\n# âœ… PASS database     (270ms)\n# ðŸ’¾ Report saved to: local-ci-report.json\n# ðŸ“– Available Commands:\n#    npm run ci:test    - Run this comprehensive test\n#    npm run ci:fix     - Auto-fix common issues\n#    npm run pre-push   - Quick validation before push\n#    npm run check      - Alternative quick check\n# âŒ Exiting with 1 error(s)\n# Subtest: D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\simple-ci-test.js\nnot ok 3 - D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\simple-ci-test.js\n  ---\n  duration_ms: 16175.6039\n  location: 'D:\\\\AI\\\\UUD\\\\new-p\\\\scripts\\\\simple-ci-test.js:1:1'\n  failureType: 'testCodeFailure'\n  exitCode: 1\n  signal: ~\n  error: 'test failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n# Subtest: API Integration Tests\n    # Subtest: should respond to health check\n    ok 1 - should respond to health check\n      ---\n      duration_ms: 0.7066\n      ...\n    # Subtest: should handle Shopify webhook\n    ok 2 - should handle Shopify webhook\n      ---\n      duration_ms: 0.112\n      ...\n    1..2\nok 4 - API Integration Tests\n  ---\n  duration_ms: 1.6282\n  type: 'suite'\n  ...\n# Subtest: Database Tests\n    # Subtest: should connect to database\n    ok 1 - should connect to database\n      ---\n      duration_ms: 0.5689\n      ...\n    # Subtest: should perform CRUD operations\n    ok 2 - should perform CRUD operations\n      ---\n      duration_ms: 0.104\n      ...\n    1..2\nok 5 - Database Tests\n  ---\n  duration_ms: 1.4801\n  type: 'suite'\n  ...\n1..5\n# tests 7\n# suites 2\n# pass 6\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 16209.4574\n",
      "envIssue": true
    },
    "build": {
      "status": "passed",
      "duration": 8323,
      "output": "\n> build:check\n> node scripts/simple-build-check.js\n\n\nðŸš€ Starting build with error catching...\n\nâ„¹ï¸  Checking environment...\nâœ… Environment check passed\nâ„¹ï¸  Running TypeScript Check...\nâœ… TypeScript Check completed\nâ„¹ï¸  Running Linting...\nâœ… Linting completed\nâ„¹ï¸  Running Build...\nâœ… Build completed\n\n==================================================\nðŸ“Š BUILD SUMMARY\n==================================================\nâ±ï¸  Duration: 8.04s\nâš ï¸  Warnings: 0\nâŒ Errors: 0\n\nðŸŽ‰ Build completed successfully!\n===="
    },
    "database": {
      "status": "passed",
      "duration": 270,
      "output": "\n> db:health\n> node scripts/health-check.js\n\n"
    }
  },
  "summary": {
    "passed": 6,
    "failed": 1,
    "skipped": 0
  }
}
